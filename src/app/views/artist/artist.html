<div class="header-container">
  <h1 class="header">NTT Music</h1>
  <div>
    <button type="button" (click)="goBack()">Voltar</button>
  </div>
</div>

<div class="container">
  <div *ngIf="loading()" class="loading-container">
    <p>Carregando artista...</p>
  </div>

  <div *ngIf="error()" class="error-message">
    {{ error() }}
  </div>

  <div *ngIf="!loading() && !error() && artist()" class="artist-info">
    <div class="details">
      <h2>{{ artist()?.name }}</h2>
      <p>{{ artist()?.followers?.total | number }} seguidores</p>
      <p *ngIf="artist()?.genres?.length">Gêneros: {{ artist()?.genres.join(', ') }}</p>
    </div>
    <img [src]="artist()?.images?.[0]?.url || placeholder" alt="{{ artist()?.name }}" />
  </div>

  <div *ngIf="!loading() && !error() && albums().length">
    <h3>Álbuns</h3>
    <div class="albums">
      <div class="album-card" *ngFor="let album of pagedAlbums" (click)="goToAlbum(album.id)">
        <img [src]="album.images?.[0]?.url || placeholder" alt="{{ album.name }}" />
        <p>{{ album.name }}</p>
      </div>
    </div>

    <div class="pagination" *ngIf="albums().length > limit">
      <button (click)="prevPage()" [disabled]="page() === 0">Anterior</button>
      <span>Página {{ page() + 1 }} de {{ totalPages }}</span>
      <button (click)="nextPage()" [disabled]="(page() + 1) * limit >= albums().length">
        Próxima
      </button>
    </div>
  </div>

  <div *ngIf="!loading() && !error() && !albums().length && artist()" class="error-message">
    Nenhum álbum encontrado.
  </div>
</div>
